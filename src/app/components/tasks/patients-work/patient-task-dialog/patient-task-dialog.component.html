<div class="container">
   <form (submit)="sendEmail($event)">
    <mat-form-field>
      <mat-label>Title</mat-label>
      <input matInput cdkFocusInitial [(ngModel)]="data.task.title" name="title" />
    </mat-form-field>
    <br>
    <mat-form-field>
      <mat-label>Description</mat-label>
      <textarea matInput [(ngModel)]="data.task.description" name="description"></textarea>
    </mat-form-field>
  <br>
    <mat-form-field appearance="fill">
      <mat-label>Assign To:</mat-label>
      <mat-select [(ngModel)]="data.task.assignedTo" name="assignedTo">
        <mat-option *ngFor="let profile of profiles" [value]="profile.displayName">
          {{profile.displayName}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <p>
      <button mat-raised-button color="primary" (click)="selfAssign()">self-assign</button>
    </p>
    <br>
    <mat-form-field>
      <mat-label>Email:</mat-label>
      <input type="text" matInput name="createdBy" [value]="profile.email" name="user_email">
    </mat-form-field>
    <br>
    <mat-form-field>
      <mat-label>Created By:</mat-label>
      <input type="text" matInput name="createdBy" [value]="profile.displayName" name="createdBy">
    </mat-form-field>
    <br>
    <mat-form-field>
      <mat-label>Patient:</mat-label>
      <input type="text" matInput name="patient_name">
    </mat-form-field>
    <br>
    <br>
    <mat-form-field>
      <mat-label>Choose a date</mat-label>
      <input matInput [matDatepicker]="picker" [(ngModel)]="data.task.dateDue" [min]='minDate' (dateChange)="formatDate($event)" name="dateDue">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

 
    
    <div mat-dialog-actions>
      <button mat-button [mat-dialog-close]="{ task: data.task }">OK</button>

      <button mat-button (click)="cancel()">Cancel</button>
      <!-- <button (click)="showProfs()">click</button> -->
      <button *ngIf="data.enableDelete" mat-fab color="primary" aria-label="Delete" [mat-dialog-close]="{ task: data.task, delete: true }">
          <mat-icon>delete</mat-icon>
      </button>
    </div>
   </form>
    
</div>